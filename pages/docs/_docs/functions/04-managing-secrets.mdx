---
category: "Functions"
title: "Managing Secrets"
slug: "functions/managing-secrets"
order: 4
---

Each Inngest account environment (Production & Test) has it's own secrets manager. All secrets are encrypted and are passed as environment variables to your functions at runtime.

## Adding a new secret

You can access the secrets manager by navigating to the **Settings** panel from the left navigation then selecting the **Secrets Manager** tab or clicking [this direct link](https://app.inngest.com/settings/secrets). You can then click "Add a secret" and enter your secret name and value.

![Inngest Secrets Manager: Adding a new secret](/assets/docs/managing-secrets/secrets-manager.png)

## Using a secret

Secrets are passed as environment variables to your functions in production. For example, if you were writing a Node.js function that used a `DATABASE_URL` secret to connect to a PlanetScale database, you would reference it just like any other environment variable:

```js
const mysql = require("mysql2/promise");

async function main({ event }) {
  const connection = await mysql.createConnection(process.env.DATABASE_URL);

  const [result] = await connection.execute(
    "INSERT INTO signups (email, signup_reason) VALUES (?)",
    [event.user.email, event.data.signup_reason]
  );
  return result;
}
```

## Production and Test environments

To toggle between production and test environments, use the "Test mode" toggle on the left navigation. Secrets are isolated to each environment.

![Test mode environment toggle](/assets/docs/managing-secrets/test-mode-toggle.png)
