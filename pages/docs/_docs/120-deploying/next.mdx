---
category: "Deploying"
title: "Next.js"
slug: "deploy/nextjs"
order: 1
---

Inngest works with NextJS out of the box.  In order to deploy with next, you need to:

1. Serve your functions with a new API route
2. Register your functions with Inngest after deploying to your hosting service.

## Serving functions in NextJS

You'll need to create a new `./pages/api/inngest.ts`
file to serve the Inngest function API:

```ts
import { serve } from "inngest/next";
import { createFunction } from "inngest";

// You can define all functions in this file, or import functions from other files.
const exampleFn = createFunction(
  "The name of my function",
  "app/user.created",
  ({ event }) => { return { body: "hello!" }; }
);

// You must export the serve handler, which hosts all of the provided functions
// under one API endpoint.
export default serve("My app/service name", process.env.INNGEST_SIGNING_KEY, [exampleFn]);
```

This hosts an API endpoint at `${your-url}/api/inngest`, which we'll use to call your
functions.

**`serve` syntax**

```
serve(appName, signingKey, [functions]);
```

**`serve` arguments**

- **`appName`**:  The name of your app or microservice, used to group all functions together
- **`signingKey`**: The signing key for your workspace, [available in your account](https://app.inngest.com/secrets)
- **`[functions]`**: An array of all functions to enable

## Registering your functions with Inngest

By default, Inngest doesn't know which functions you're serving or the URL of your app. Once you
deploy your site to production, you'll need to reigster your functions with Inngest.  You can do
this via the UI or via an API call.

### Registering via the UI

You can add your endpoint’s URL to Inngest via the dashboard:

<video controls autoPlay loop muted>
  <source
    src="/assets/docs/sdk-deploy.mp4"
    type="video/mp4"
  />
</video>

### Registering via the API

You can register your function’s endpoints with a single PUT call to your function endpoint:

```bash
curl -X PUT https://www.example.com/api/inngest
```

Remember to swap www.example.com with your own domain name.


[You can read more about registering functions here](/docs/deploy#registering-live-functions-with-inngest).
